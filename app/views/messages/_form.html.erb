<%= turbo_frame_tag dom_id(chat, :message_form) do %>
  <%= form_with(model: [chat, message],
                url: chat_messages_path(chat),
                data: { chat_form: true }) do |form| %>
    <div class="mb-3">
      <%= form.label :content, "質問内容", class: "form-label fw-semibold" %>
      <%= form.text_area :content,
                         rows: 4,
                         class: "form-control",
                         placeholder: "営業の悩みを入力してください (⌘ + Enterで送信)",
                         data: { action: "keydown.meta+enter->this.form.requestSubmit()" } %>
      <% if message.errors[:content].present? %>
        <div class="text-danger small mt-1">
          <%= message.errors[:content].first %>
        </div>
      <% end %>
    </div>
    <div class="d-flex justify-content-end">
      <%= form.button class: "btn btn-primary d-inline-flex align-items-center gap-2",
                      data: { chat_form_target: "submit" } do %>
        <i data-lucide="send" aria-hidden="true"></i>
        <span>送信</span>
      <% end %>
    </div>
  <% end %>
<% end %>
